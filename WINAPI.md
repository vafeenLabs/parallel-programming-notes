# Основные используемые механизмы:

1. **Семафор (`CreateSemaphore`)**  
    Используется для управления доступом потоков к очереди задач. Семафор создается с максимальным количеством ресурсов, равным числу потоков.
    
2. **Мьютекс (`CreateMutex`)**  
    Гарантирует синхронизацию потоков при доступе к общим данным, таким как очередь задач.
    
3. **Рабочие потоки (`_beginthreadex`)**  
    Функция создает потоки, которые выполняют метод `run` для обработки задач.
    
4. **Сигнализация потоков:**
    
    - **`WaitForSingleObject`** — ожидает освобождения ресурса (семафора или мьютекса).
    - **`ReleaseSemaphore`** — уведомляет поток о новой задаче.
    - **`ReleaseMutex`** — освобождает захваченный мьютекс.
5. **Очистка ресурсов:**
    
    - Используются функции `CloseHandle` для корректного завершения работы с семафором, мьютексом и потоками.
# Логика работы:

1. Создание пула:
    - Инициализация семафора и мьютекса.
    - Создание потоков через `_beginthreadex`.
2. Обработка задач:
    - Поток ожидает семафора.
    - Захватывает мьютекс для безопасной работы с очередью.
    - Выполняет задачу, если она существует.
3. Завершение пула:
    - Флаг `stop` останавливает работу потоков.
    - Все потоки завершаются, и ресурсы освобождаются.
